\documentclass[a4j,fleqn,10pt]{jsarticle}
\usepackage{ipsj}
\usepackage{txfonts}
\usepackage[symbol*,perpage]{footmisc}
\usepackage[dvipdfm]{graphicx, color}

%-------------------------------------------jtitle and jauthors information
\begin{document}

\jtitle{誤りパターン埋込み型ステガノグラフィに関する一考察}
\jcontact{松江工業高等専門学校\dag}
\jauthor{索手 一平\dag}

\maketitle

%-------------------------------------------document
\section{はじめに}{
 本研究はグレースケール画像にテキスト情報を埋め込むようなステガノグラフィ
技術を対象とする．埋め込み方式の一つであるLSB法は画像のLSB平
面をテキスト情報のバイナリ表現とそのまま置き換えることによって埋め
込みを行う．これに対して，誤りパターン埋め込み法では，テキスト情報を冗長
かつハミング重みが小さなビット列である誤りパターンに変換し，誤りパターン
と画像のビット列との排他的論理和でビット列を置き換える．\\
埋め込みに使用したビット数とそれによって変化したビット数との比を誤り率，
埋め込んだ情報量との比を埋め込み率と言い，誤りパターン埋め込み法は誤り率
においてLSB法に比べ非常に優れている．その一方で情報を冗長なビット列に変換する
ことから埋め込み率において劣っている．\\
本研究では誤りパターン埋込み法における画質劣化と埋め込み率のトレードオフ関係を実
験的に明らかにした．また，その実験結果をもとに画質劣化の起こりやすい画像
の特性について調査するための実験を行った．
}

\section{誤りパターンへの変換方法}{
誤りパターンへの変換方法の一つに埋め込みデータと誤りパターンを対応付けた
テーブルを用意する方法が知られている．しかし，この方法の問題点として埋め
込みデータの大きさに比例してテーブルが膨大となりメモリ制約の大きい環境で
の実装が困難になるという点があげられる\cite{Paper01}．そこで本研究ではShalkwijkの数え
上げ符号\cite{Paper02}を用いた埋め込みデータから誤りパターンを動的に生成
する手法を提案する．
}

\section{埋め込み率と画質劣化のトレードオフ関係}\label{sec:experiment1}
実験手順の概要を図\ref{fig:experiment_outline1}に示す．以下に示す手順で
実験を行い、実験には256$\times$256pxの8bitグレイスケールBitmapである自然
画像100枚を使用した．また，埋め込みに使用するメッセージはほぼ当確率で発
生する8bitコードの列とした．

\begin{enumerate}
\renewcommand{\labelenumi}{(\arabic{enumi})}
 \item メッセージの各コードをShalkwijkの数え上げ符号を用いて動的に誤りパターン
       へと変換し，画像のビット列との排他的論理和を埋め込む．
 \item 埋め込み前後の画像を比較し，誤り率，PSNR，SSIMを算出する．ここで
       誤り率rは埋め込み前後で変化したビットの数をd，埋め込みに使用した
       画像のビット数をnとして式（\ref{equ:error_rate}）で算出する．
       \begin{equation}\label{equ:error_rate}
         r = \frac{d}{n}\times100
       \end{equation}
  \item 誤りパターン長を8〜256bit，埋め込み範囲をLSBのみから全ビットまでの範
       囲で変化させながら（１），（２）を繰り返す．
 \item 画像を入れ替えて（３）を繰り返す．
\end{enumerate}

\begin{figure}[htbp]
 \begin{center}
  \includegraphics[width=8cm]{img/experiment1.png}
 \end{center}
 \caption{実験概要1}
 \label{fig:experiment_outline1}
\end{figure}

画像ごとのSSIMの変化について図\ref{fig:graph_ssim}に示す．図
\ref{fig:graph_ssim}から画像によって画質劣化の度合いに差があることがわか
る．つまり画像によっては同様の画質劣化、より多くの文字を埋め込むことができ
るうことになる。そこで、実験に使用した画像に対し主観的に観察を行ったとこ
ろ，同じような色で構成される領域が大きい画像ほど画質劣化が大きくなるとい
う特徴があるということがわかった．その例を図\ref{fig:degration-low}，図
\ref{fig:degration-high}に示す．\\
図\ref{fig:degration-low}は善意的にさまざまな色のピクセルが混ざり合って
構成された画像であり，一方で図\ref{fig:degration-high}は白やグレーが連続
したの領域が大きく含まれている．私はこの結果が主観によるカバーデータ選択
の指標できるのではないかと考え、この結果を客観的に評価するための実験を行っ
た．

% 画像
{
\begin{figure}[htbp]
 \begin{center}
  \includegraphics[width=8cm]{img/img_ssim.png}
 \end{center}
 \caption{画像ごとのSSIMの遷移}
 \label{fig:graph_ssim}
\end{figure}

\begin{figure}[htbp]
 \begin{center}
  \includegraphics[width=4cm]{img/BRIDGE.png}
  \includegraphics[width=4cm]{img/10_17_BRIDGE.png}
 \end{center}
 \caption{劣化の少ない画像（左：埋め込み前　右：埋め込み後）}
 \label{fig:degration-low}
\end{figure}

\begin{figure}[htbp]
 \begin{center}
  \includegraphics[width=4cm]{img/milkdrop256.png}
  \includegraphics[width=4cm]{img/10_17_milkdrop256.png}
 \end{center}
 \caption{劣化の大きい画像（左：埋め込み前　右：埋め込み後）}
 \label{fig:degration-high}
\end{figure}
}


\section{画質劣化の起きやすい画像の特徴} {
実験手順の概要を図\ref{fig:experiment_outline2}に示す．以下に示す手順で
実験を行い、実験には第\ref{sec:experiment1}節で使用した画像と同じものを
使用した.

\begin{enumerate}
\renewcommand{\labelenumi}{(\arabic{enumi})}
 \item グレースケールの画像に対し，0〜7の画素値を持つピクセルを抽出し，
       抽出したピクセルとそれ以外のピクセルとで分け，二値化を行う．
 \item 抽出する画素を8ずつずらし，(1)を繰り返す．
 \item 二値化した画像に対し４近傍でラベリング処理を行い，各ラベルのつい
       た領域の面積を計算する．
 \item 全ての２値画像の中で最大の領域面積を求める．
 \item (1)〜(4)をすべての画像に対し繰り返す．
 \item (5)で算出した最大面積と第\ref{sec:experiment1}節で算出したSSIMとのピアソンの相関係数を算出する．
\end{enumerate}

\begin{figure}[htbp]
 \begin{center}
  \includegraphics[width=8cm]{img/experiment2.png}
 \end{center}
 \caption{実験概要2}
 \label{fig:experiment_outline2}
\end{figure}

私は画素値を小さな範囲で区切りその面積を計算することで同じような色で構成
された領域の大きさを算出できると考えた。シンプルな方法ではあるものの各パ
ターンにおけるSSIMと0.6前後の相関を得ることができた。これは細かいコント
ラストの中で埋め込みによって生じるノイズが目立たなくなっているのだと考え
られる。
}

\section{考察}{
以上の研究で同じ条件での埋め込みにおいて画像ごとに画質劣化の度合いが異
なることがわかり、そしてシンプルな方法ではあるが同じような色で構成された
領域の大きさが画質劣化の度合いに対して影響しているということが明らかに
なった。\\
これらは人間の視覚によるカバーデータの選択において、この特徴が視覚的認識
の回避とための効果的な指標となり得ることを示している。ただ一方で単純な
SSIMはFBSやWBSなどの代表的なステガノグラフィの解析アルゴリズムに対し有効
であるとは言えない。\\
今後は上記の特徴に関してより正確かつ信頼できる計算方法を用いて実験を行う
と同時に、実際に解析アルゴリズムに対してこれらの特徴がどのように作用する
のかを研究していきたいと考えている。
\section{まとめ}}
 

%-------------------------------------------etitle and eauthors information
\footnotetext[0]{\hspace*{-5.2mm}A study on steganography based on embedding error patterns}
\footnotetext[1]{\hspace*{-6.5mm}\dag Ippei Nawate}
\footnotetext[2]{\hspace*{-6.5mm}\dag Matsue College Of Technology}

%-------------------------------------------references
\bibliographystyle{junsrt}
\bibliography{draft}

\end{document}
